<h1>Your Cart</h1>

<%# This page both displays and provides editing functions for users carts %>


    <% @carts.each do |cart| %>
    <section class='block m-3'>
        <%= cl_image_tag(cart.coffee.coffee_image.key, crop: :scale, width: 150, cloud_name: ENV['CLOUDINARY_CLOUD_NAME']) if cart.coffee.coffee_image.attached? %>
        <table class='table'>
        <tr>
            <td><%= 'Coffee:' %></td>
            <td><%= "#{cart.coffee.origin} #{cart.coffee.name}" %></td>
        </tr>
        <tr>
            <td><%= 'Quantity:' %></td>
            <td><%= cart.quantity %></td>
        </tr>
        <tr>
            <td><%= 'Total Price:' %></td>
            <td><%= cart.quantity * cart.coffee.price %></td>
        </tr>
        <tr>
            <td><%= link_to("+1", class: 'button is-warning') %><%= link_to("-1", class: 'button is-warning') %></td>
        </tr>
        </table>
        <%= button_to('Remove', cart_path(cart), method: :delete, class: 'button is-danger is-small') %>
    </section>
    <% end %>

  <div class='field is-horizontal'>
    <fieldset class='control'>
      <%= f.label :street_number %><br />
      <%= f.text_field :street_number, class: 'input' %>
    </fieldset>
  </div>

  <div class='field is-horizontal'>
    <fieldset class='control'>
      <%= f.label :street_name %><br />
      <%= f.text_field :street_name, class: 'input' %>
    </fieldset>
  </div>

  <div class='field is-horizontal'>
    <fieldset class='control'>
      <%= f.label :suburb %><br />
      <%= f.text_field :suburb, class: 'input' %>
    </fieldset>
  </div>

  <div class='field is-horizontal'>
    <fieldset class='control'>
      <%= f.label :postcode %><br />
      <%= f.number_field :postcode, class: 'input' %>
    </fieldset>
  </div>

  <div class='field'>
    <div class='select'>
      <%= f.select(:state, options_for_select([['State', nil], ['ACT', 'ACT'], ['NSW', 'NSW'], ['NT', 'NT'], ['QLD', 'QLD'], ['SA', 'SA'], ['TAS', 'TAS'], ['VIC', 'VIC'], ['WA', 'WA']], 8)) %><br />
    </div>
  </div>

  <div class='actions'>
    <%= f.submit class: 'button is-primary' %>
  </div>
<% end %>